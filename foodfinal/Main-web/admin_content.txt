<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Details and Payment</title>
    <link rel="stylesheet" href="ordDetails.css">
</head>

<body>
    <div class="container">
        <h1>Order Details and Payment</h1>
        <form id="orderForm">
            <!-- Customer Information -->
            <section>
                <h2>Customer Information</h2>
                <label for="name">Full Name:</label>
                <input type="text" id="name" name="name" required><br><br>

                <label for="phone">Phone Number:</label>
                <input type="text" id="phone" name="phone" required><br><br>

                <label for="email">Email Address:</label>
                <input type="email" id="email" name="email" required><br><br>
            </section>

            <!-- Delivery Information -->
            <section>
                <h2>Delivery Information</h2>
                <label for="address">Street Address:</label>
                <input type="text" id="address" name="address" required><br><br>

                <label for="city">City:</label>
                <input type="text" id="city" name="city" required><br><br>

                <label for="postalCode">Postal Code:</label>
                <input type="text" id="postalCode" name="postalCode" required><br><br>

                <label for="country">Country:</label>
                <input type="text" id="country" name="country" required><br><br>

                <label for="selectfood">Select food items</label>
                <select id="selectfood" name="selectfood">
                    <option value="pizza">Pizza</option>
                    <option value="burger">Burger</option>
                    <option value="vadapav">Vadapav</option>
                    <option value="fries">Fries</option>
                    <option value="salad">Salad</option>
                    <option value="taco">Taco</option>
                    <option value="sandwich">Sandwich</option>
                    <option value="steak">Steak</option>
                    <option value="ramen">Ramen</option>
                    <option value="donut">Donut</option>
                </select>
                <div id="quantity-container">
                    <label for="quantity">Quantity:</label>
                    <input type="number" id="quantity" name="quantity" value="1" min="1" max="10">
                </div>

                <br>
                <label for="text">Amount</label>
                <input type="text" id="amount" name="amount" readonly>
                <label for="orderDate">Select Order Date:</label>
                <input type="date" id="orderDate" name="orderDate" required><br><br>
            </section>

            <!-- Order Details -->
            <section>
                <h2>Order Details</h2>
                <label for="specialInstructions">Special Instructions:</label><br>
                <textarea id="specialInstructions" name="specialInstructions" style="height: 100px; resize: none;"></textarea><br><br>

            </section>

            <!-- Payment Method -->
            <section>
                <h2>Payment Method</h2>
                <label for="paymentMethod">Choose Payment Method:</label><br>
                <input type="radio" id="creditCard" name="paymentMethod" value="Credit/Debit Card" required> Credit/Debit Card
                <div id="creditCardDetails" style="display: none;">
                    <label for="cardNumber">Credit/Debit Card Number:</label>
                    <input type="text" id="cardNumber" name="cardNumber" placeholder="Enter your card number" required>
                    <label for="cardExpiry">Card Expiry:</label>
                    <input type="text" id="cardExpiry" name="cardExpiry" placeholder="MM/YY" required>
                    <label for="cardCvv">Card CVV:</label>
                    <input type="text" id="cardCvv" name="cardCvv" placeholder="Enter your card CVV" required>
                </div>
                <input type="radio" id="cash" name="paymentMethod" value="Cash on Delivery" required> Cash on Delivery
                <input type="radio" id="upi" name="paymentMethod" value="UPI" required> UPI
                <div id="upiDetails" style="display: none;">
                    <label for="upiMethod">Select UPI Method:</label><br>
                    <div style="display: flex; flex-direction: row;">
                        <input type="radio" id="googlePay" name="upiMethod" value="Google Pay" required> Google Pay
                        <input type="radio" id="phonePay" name="upiMethod" value="Phone Pay" required> Phone Pay
                        <input type="radio" id="upiId" name="upiMethod" value="UPI ID" required> UPI ID
                    </div>
                    <div id="upiIdInput" style="display: none;">
                        <label for="upiIdValue">Enter UPI ID:</label>
                        <input type="text" id="upiIdValue" name="upiIdValue" placeholder="Enter your UPI ID" required>
                    </div>
                </div>
            </section>

            <button type="submit">Place Order</button>
        </form>
    </div>

    <script>
        // Get the credit card radio button
        const creditCardRadio = document.getElementById('creditCard');

        // Add event listener to the credit card radio button
        creditCardRadio.addEventListener('change', () => {
            const creditCardDetails = document.getElementById('creditCardDetails');
            if (creditCardRadio.checked) {
                creditCardDetails.style.display = 'block';
            } else {
                creditCardDetails.style.display = 'none';
                document.getElementById('cardNumber').value = '';
                document.getElementById('cardExpiry').value = '';
                document.getElementById('cardCvv').value = '';
            }
        });

        // Get the UPI radio button
        const upiRadio = document.getElementById('upi');

        // Add event listener to the UPI radio button
        upiRadio.addEventListener('change', () => {
            const upiDetails = document.getElementById('upiDetails');
            if (upiRadio.checked) {
                upiDetails.style.display = 'block';
            } else {
                upiDetails.style.display = 'none';
            }
        });

        // Get the UPI ID radio button
        const upiIdRadio = document.getElementById('upiId');

        // Add event listener to the UPI ID radio button
        upiIdRadio.addEventListener('change', () => {
            const upiIdInput = document.getElementById('upiIdInput');
            if (upiIdRadio.checked) {
                upiIdInput.style.display = 'block';
            } else {
                upiIdInput.style.display = 'none';
            }
        });

        // Get the order form
        const orderForm = document.getElementById('orderForm');

        // Add event listener to the form submission
        orderForm.addEventListener('submit', (e) => {
            e.preventDefault();

            // Get the selected food item, quantity, and order date
            const selectedFood = document.getElementById('selectfood').value;
            const quantity = document.getElementById('quantity').value;
            const orderDate = document.getElementById('orderDate').value;
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;
            const address = document.getElementById('address').value;
            const city = document.getElementById('city').value;
            const postalCode = document.getElementById('postalCode').value;
            const country = document.getElementById('country').value;
            const specialInstructions = document.getElementById('specialInstructions').value;
            const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;

            // Create a new object to store the order details
            const orderDetails = {
                name: name,
                phone: phone,
                email: email,
                address: address,
                city: city,
                postalCode: postalCode,
                country: country,
                foodItem: selectedFood,
                quantity: quantity,
                amount: document.getElementById('amount').value,
                orderDate: orderDate,
                specialInstructions: specialInstructions,
                paymentMethod: paymentMethod
            };

            // Send the order details to the server
            fetch('http://localhost:3000/place-order', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(orderDetails)
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Order placed successfully:', data);
                    alert('Order placed successfully!');
                    orderForm.reset();
                })
                .catch(error => {
                    console.error('Error placing order:', error);
                    alert('Error placing order. Please try again later.');
                });
        });

        // Define the prices for each food item
        const prices = {
            pizza: 399,
            burger: 199,
            vadapav: 30,
            fries: 149,
            salad: 229,
            taco: 175,
            sandwich: 79,
            steak: 599,
            ramen: 299,
            donut: 49
        };

        // Get the select food item, quantity, and amount fields
        const selectFood = document.getElementById('selectfood');
        const quantity = document.getElementById('quantity');
        const amount = document.getElementById('amount');

        // Add an event listener to the select food item field
        selectFood.addEventListener('change', calculateAmount);

        // Add an event listener to the quantity field
        quantity.addEventListener('input', calculateAmount);

        // Function to calculate the amount
        function calculateAmount() {
            const selectedFood = selectFood.value;
            const quantityValue = parseInt(quantity.value);
            const price = prices[selectedFood];
            const calculatedAmount = price * quantityValue;
            amount.value = `â‚¹${calculatedAmount}`;
        }

        // Call the calculateAmount function initially
        calculateAmount();

        // Function to toggle credit card fields
        function toggleCreditCardFields() {
            const creditCardDetails = document.getElementById('creditCardDetails');
            if (document.getElementById('creditCard').checked) {
                creditCardDetails.style.display = 'block';
                document.getElementById('cardNumber').setAttribute('required', 'true');
                document.getElementById('cardExpiry').setAttribute('required', 'true');
                document.getElementById('cardCvv').setAttribute('required', 'true');
            } else {
                creditCardDetails.style.display = 'none';
                document.getElementById('cardNumber').removeAttribute('required');
                document.getElementById('cardExpiry').removeAttribute('required');
                document.getElementById('cardCvv').removeAttribute('required');
            }
        }

        // Function to toggle UPI fields
        function toggleUPIFields() {
            const upiDetails = document.getElementById('upiDetails');
            if (document.getElementById('upi').checked) {
                upiDetails.style.display = 'block';
            } else {
                upiDetails.style.display = 'none';
                document.querySelectorAll('input[name="upiMethod"]').forEach((input) => input.removeAttribute('required'));
                document.getElementById('upiIdValue').removeAttribute('required');
            }
        }

        // Function to toggle UPI ID input field
        function toggleUPIIdField() {
            const upiIdInput = document.getElementById('upiIdInput');
            if (document.getElementById('upiId').checked) {
                upiIdInput.style.display = 'block';
                document.getElementById('upiIdValue').setAttribute('required', 'true');
            } else {
                upiIdInput.style.display = 'none';
                document.getElementById('upiIdValue').removeAttribute('required');
            }
        }

        // Add event listeners
        document.getElementById('creditCard').addEventListener('change', toggleCreditCardFields);
        document.getElementById('upi').addEventListener('change', toggleUPIFields);
        document.getElementById('upiId').addEventListener('change', toggleUPIIdField);

        // Run functions on page load to ensure proper state
        toggleCreditCardFields();
        toggleUPIFields();
        toggleUPIIdField();

        // Modify form submission to prevent errors
        document.getElementById('orderForm').addEventListener('submit', function(e) {
            toggleCreditCardFields();
            toggleUPIFields();
            toggleUPIIdField();
        });
    </script>
</body>

</html>


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Form</title>
    <link rel="stylesheet" href="styleee.css" />
    <link rel="stylesheet" href="contact.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>

<body>
    <header class="header">
        <nav class="navbar">
            <a href="./index.html" class="nav-logo">Food<span style="color:#854d27">Hub</span></a>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="../Login and Register/login.html" class="nav-link">LogIn</a>
                </li>
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="order.html" class="nav-link">Order</a>
                </li>
                <li class="nav-item">
                    <a href="contact.html" class="nav-link">Contact</a>
                </li>
                <li class="nav-item">
                    <a href="feedbackk.html" class="nav-link">Feedback</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </nav>
    </header>

    <main>
        <div class="contact-container">
            <h1>Contact Us</h1>
            <div id="responseMessage"></div>
            <!-- Display API response message -->
            <form id="contactForm">
                <input name="name" type="text" id="name" class="feedback-input" placeholder="Name" required />
                <input name="email" type="email" id="email" class="feedback-input" placeholder="Email" required />
                <textarea name="message" id="message" class="feedback-input" placeholder="Message" required></textarea>
                <input type="submit" value="SUBMIT" />
            </form>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const contactForm = document.getElementById("contactForm");
            const responseMessage = document.getElementById("responseMessage");

            contactForm.addEventListener("submit", function(event) {
                event.preventDefault();

                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;
                const message = document.getElementById('message').value;

                // const formData = new FormData(contactForm);
                const formData = {
                    name: name,
                    email: email,
                    message: message,
                };

                const apiEndpoint = "http://localhost:3000/api/contact";

                fetch(apiEndpoint, {
                        method: "POST",
                        headers: {
                            'Content-Type': 'application/json;charset=utf-8'
                        },
                        body: JSON.stringify(formData)
                    })
                    .then(response => response.json())
                    .then(data => {
                        responseMessage.innerHTML = `<p>${data.message}</p>`;
                        responseMessage.classList.add("success", "show"); // Add 'show' class to make the message visible

                        setTimeout(() => {
                            contactForm.reset();
                            responseMessage.innerHTML = "";
                            responseMessage.classList.remove("success", "show");
                        }, 2000);
                    })
                    .catch(error => {
                        console.error("Error:", error);
                        responseMessage.innerHTML = `<p>Error submitting the form. Please try again later.</p>`;
                        responseMessage.classList.add("error", "show"); // Add 'show' class to make the message visible

                        setTimeout(() => {
                            responseMessage.innerHTML = "";
                            responseMessage.classList.remove("error", "show");
                        }, 3000);
                    });
            });
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback Form</title>
    <link rel="stylesheet" href="feedbackk.css">
    <link rel="stylesheet" href="styleee.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <header class="header">
        <nav class="navbar">
            <a href="./index.html" class="nav-logo">Food<span style="color:#854d27">Hub</span></a>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="../Login and Register/login.html" class="nav-link">LogIn</a>
                </li>
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="order.html" class="nav-link">Order</a>
                </li>
                <li class="nav-item">
                    <a href="contact.html" class="nav-link">contact</a>
                </li>
                <li class="nav-item">
                    <a href="feedbackk.html" class="nav-link">feedback</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </nav>
    </header>
    <!-- fd -->
    <div class="feedback-container">
        <h1>Share your Feedback</h1>
        <p>We'd love to hear your thoughts and improve based on your suggestions!.</p>
        <form action="process_feedback.php" method="POST" class="feedback-form">
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" name="name" id="name" placeholder="Enter Your Name" required>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" name="email" id="email" placeholder="Enter Your Email" required>
            </div>
            <div class="form-group">
                <label for="rating"></i>Rating</label>
                <select name="rating" id="rating" required>
        <option value="" disabled selected>Select a rating</option>
        <option value="Excellent">Excellent</option>
        <option value="Good">Good</option>
        <option value="Average">Average</option>
        <option value="Poor">Poor</option>
        <option value="Terrible">Terrible</option>
       
      </select>
            </div>
            <div class="form-group">
                <label for="comments">Comments</label>
                <textarea name="comments" id="comments" placeholder="Write your message...." rows="5" required></textarea>

            </div>
            <button type="submit" class="btn">Submit Feedback</button>
        </form>
    </div>
    <script>
        // Get the feedback form
        const feedbackForm = document.querySelector(".feedback-form");

        // Add an event listener for form submission
        feedbackForm.addEventListener("submit", (e) => {
            e.preventDefault();

            // Collect form data
            const name = document.getElementById("name").value;
            const email = document.getElementById("email").value;
            const rating = document.getElementById("rating").value;
            const comments = document.getElementById("comments").value;

            // Prepare data to send
            const feedbackData = {
                name,
                email,
                rating,
                comments
            };



            // Send data to the server
            fetch("http://localhost:3000/api/submitFeedback", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify(feedbackData),
                })
                .then((response) => response.json())
                .then((data) => {
                    if (data.success) {
                        alert(data.message);
                        feedbackForm.reset(); // Clear form fields
                    } else {
                        alert("Error: " + data.message);
                    }
                })
                .catch((error) => console.error("Error:", error));
        });
    </script>

</body>

</html>